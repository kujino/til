# 2025/10/12の日報
today: 4.5 hour total: 325 hour
## 学習したこと
ActionMailerを使ってのメーラーの実装
1日の集計をメールで自動送信する機能
* メーラーにメソッドを定義
```ruby
def report_summary
		@published_article_count = Article.published.count
		@yesterday_published_article = Article.published_at_yesterday
		mail(to: 'admin@example.com', subject: "公開済記事の集計結果")
	end
```

* ビューファイルの記述
```ruby
<%= "公開済の記事数: #{@published_article_count}件" %>

<% if @yesterday_published_article.present? %>
  <%= "昨日公開された記事数: #{@yesterday_published_article.size}件" %>

  <% @yesterday_published_article.each do |article| %>
    <p><%= "タイトル: #{article.title}" %></p>
  <% end %>
<% else %>
  <%= "昨日公開された記事はありません" %>
<% end %>
```

最初はやりたいことごとにメソッド定義しようとしていたが、最低限のメソッドをビューでいじって書いた方がいい気がしてAIと壁打ちしながら実装した。

特にビューファイルからSQL発行に繋がるような記述はなるべく避ける

モデルのscopeの使い時、というかモデルに書くべきロジックの判断が出来ていないため、今後意識したいのはそこ
